window.__require=function t(e,o,r){function c(s,a){if(!o[s]){if(!e[s]){var i=s.split("/");if(i=i[i.length-1],!e[i]){var l="function"==typeof __require&&__require;if(!a&&l)return l(i,!0);if(n)return n(i,!0);throw new Error("Cannot find module '"+s+"'")}s=i}var p=o[s]={exports:{}};e[s][0].call(p.exports,function(t){return c(e[s][1][t]||t)},p,p.exports,t,e,o,r)}return o[s].exports}for(var n="function"==typeof __require&&__require,s=0;s<r.length;s++)c(r[s]);return c}({DataMgr:[function(t,e,o){"use strict";cc._RF.push(e,"afb1eSgqfVBeKyu0JilSUqe","DataMgr");var r=this&&this.__decorate||function(t,e,o,r){var c,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(s=(n<3?c(s):n>3?c(e,o,s):c(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,n=c.ccclass,s=(c.property,function(){function t(){}var e;return e=t,t.prototype.init=function(){cc.loader.loadRes("json/stage.json",function(t,o){t?console.log(t):(e.shared().stages=o.json,cc.loader.loadRes("json/common.json",function(t,o){t?console.log(t):e.shared().common=o.json}))})},t.shared=function(){return null==this.mgr&&(this.mgr=new e),this.mgr},e=r([n],t)}());o.default=s,cc._RF.pop()},{}],Helloworld:[function(t,e,o){"use strict";cc._RF.push(e,"e1b90/rohdEk4SdmmEZANaD","Helloworld");var r,c=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,r){var c,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(s=(n<3?c(s):n>3?c(e,o,s):c(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,a=s.ccclass,i=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return c(e,t),e.prototype.start=function(){this.label.string=this.text},n([i(cc.Label)],e.prototype,"label",void 0),n([i],e.prototype,"text",void 0),n([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{}],PlayerMgr:[function(t,e,o){"use strict";cc._RF.push(e,"f286dL8PZVHhIUrjWNUIQeo","PlayerMgr");var r=this&&this.__decorate||function(t,e,o,r){var c,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(s=(n<3?c(s):n>3?c(e,o,s):c(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var c=cc._decorator,n=c.ccclass,s=(c.property,function(){function t(){}var e;return e=t,t.prototype.init=function(){this.stage=0,this.completes=[]},t.shared=function(){return null==this.mgr&&(this.mgr=new e),this.mgr},t.prototype.newStage=function(){this.completes=[]},e=r([n],t)}());o.default=s,cc._RF.pop()},{}],Stagepanel:[function(t,e,o){"use strict";cc._RF.push(e,"39052dsIWlEm51pJ/jntTj8","Stagepanel");var r,c=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),n=this&&this.__decorate||function(t,e,o,r){var c,n=arguments.length,s=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,r);else for(var a=t.length-1;a>=0;a--)(c=t[a])&&(s=(n<3?c(s):n>3?c(e,o,s):c(e,o))||s);return n>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./DataMgr"),a=t("./PlayerMgr"),i=cc._decorator,l=i.ccclass,p=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e.prototype.start=function(){s.default.shared().init(),a.default.shared().init(),this.search1node=cc.find("Canvas/background/search1"),this.search2node=cc.find("Canvas/background/search2"),this.cdlabel=cc.find("Canvas/background/cd/label").getComponent(cc.Label),this.search1node.on(cc.Node.EventType.TOUCH_END,this.onclicksearch,this),this.search2node.on(cc.Node.EventType.TOUCH_END,this.onclicksearch,this),cc.find("Canvas/background/stage/label").getComponent(cc.Label).string="1",this.cd=180,this.status=0},e.prototype.destroy=function(){return t.prototype.destroy.call(this),this.search1node.off(cc.Node.EventType.TOUCH_END,this.onclicksearch,this),this.search2node.off(cc.Node.EventType.TOUCH_END,this.onclicksearch,this),!0},e.prototype.onclicksearch=function(t){if(0==this.status){var e=t.target.convertToNodeSpaceAR(t.getLocation()),o=e.x,r=e.y;console.log(o+","+r),this.checkComplete(o,r)}},e.prototype.update=function(t){if(0==this.status){this.cd-=t;var e=Math.floor(this.cd),o=Math.floor(e/60),r=e%60,c=(o<10?"0"+o:o)+":";c+=r<10?"0"+r:r,this.cdlabel.string=c,this.cd<=0&&(this.status=3)}else 1==this.status&&(this.errorcd-=t,this.errorcd<=0&&(this.status=0))},e.prototype.checkComplete=function(t,e){for(var o=s.default.shared().stages[a.default.shared().stage],r=!1,c=0;c<o.pos.length;c+=4)if(!(a.default.shared().completes[c]>0)){var n=o.pos[c],i=o.pos[c+1],l=o.pos[c+2],p=o.pos[c+3];if(t>=n&&e>i&&t<=n+l&&e<=i+p){a.default.shared().completes[c]=1;var f=this.search1node.getChildByName("rect").getComponent(cc.Graphics);f.lineWidth=6,f.strokeColor=cc.Color.RED,f.fillColor=cc.Color.RED,f.rect(n,i,l,p),f.stroke();var h=this.search2node.getChildByName("rect").getComponent(cc.Graphics);h.lineWidth=6,h.strokeColor=cc.Color.RED,h.fillColor=cc.Color.RED,h.rect(n,i,l,p),h.stroke(),r=!0;for(var u=0,d=0;d<a.default.shared().completes.length;d++)1==a.default.shared().completes[d]&&u++;u>=o.pos.length/4&&(this.status=3)}}r||(this.errorcd=5,this.status=1)},e.prototype.test=function(){this.search1node.getChildByName("rect").getComponent(cc.Graphics).clear(),this.search2node.getChildByName("rect").getComponent(cc.Graphics).clear()},n([l],e)}(cc.Component));o.default=p,cc._RF.pop()},{"./DataMgr":"DataMgr","./PlayerMgr":"PlayerMgr"}]},{},["DataMgr","Helloworld","PlayerMgr","Stagepanel"]);